---
// /blog/index.astro
import { sanityClient } from "sanity:client";
import Layout from "@/layouts/Layout.astro";
const posts = await sanityClient.fetch(`*[_type == "post" && defined(slug)] | order(publishedAt desc)`);
---
<Layout title="Blog - Bedford Barber Co">

    <h1>BLOG</h1>
    <ul>
      {posts.map((post:any) => (
        <li>
          <a href={'/posts/' + post.slug.current} class="post-link">
            {post.title}
          </a>
        </li>
      ))}
    </ul>
</Layout>